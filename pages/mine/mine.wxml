<!--pages/mine/mine.wxml-->
<view class="container">
    <view class="top-layout">
        <view class="userinfo">
            <block wx:if="{{canIUseOpenData}}">
            <view class="userinfo-avatar">
                <open-data type="userAvatarUrl"></open-data>
            </view>
            <view class="userinfo-right">
                <view class="userinfo-nickname"><open-data type="userNickName"></open-data></view>
                <text class="userinfo-phone">{{userInfoExt.phone}}</text>
            </view>
            </block>
            <block wx:elif="{{!hasUserInfo}}">
                <block wx:if="{{canIUseGetUserProfile}}">
                    <image bindtap="bindViewTap" class="userinfo-avatar" src="/images/avatar.png" mode="cover" bindtap="getUserProfile"></image>
                    <text class="userinfo-nickname" bindtap="getUserProfile">获取头像昵称</text>
                </block>
            <button wx:elif="{{canIUse}}" open-type="getUserInfo" bindgetuserinfo="getUserInfo"> 获取头像昵称 </button>
            </block>
            <block wx:else>
            <image bindtap="bindViewTap" class="userinfo-avatar" src="{{userInfo.avatarUrl}}" mode="cover"></image>
            <text class="userinfo-nickname">{{userInfo.nickName}}</text>
            <text class="userinfo-phone">{{userInfoExt.phone}}</text>
            </block>
        </view>
        <view class="layout-right" bindtap="gotoSetting">
            <image src="/images/icons/icon-edit.png" class="edit-btn" />
        </view>
    </view>
    <view class="info-list">
        <view class="info-item" wx:for="{{infoList}}" wx:key="index"  bindtap="gotoDeatil" data-test="{{item}}">
            <text class="info-item-v">{{info[item.id]}}</text>
            {{item.title}}
        </view>
    </view>
    <view class="info-time">
        <image class="info-time-bg" src="/images/bgs/bg-mine.png" mode="widthFix" />
        <view class="info-time-content">
            累计运动时长：
            <text class="info-time-content-count">\r\n{{info.time}}</text> 小时
        </view>
    </view>
</view>
